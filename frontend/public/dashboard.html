<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Expense Navigator</title>
    <link rel="stylesheet" href="../assets/css/dashboard.css">
    <script>
        // Function to show/hide sections
        function showSection(sectionId) {
            const sections = document.querySelectorAll('section');
            sections.forEach(section => section.style.display = 'none');
            document.getElementById(sectionId).style.display = 'block';
        }

        // Navigate to external PHP files for viewing income and expense
        function navigateTo(url) {
            window.location.href = url;  // Navigate to the PHP page
        }
    </script>
}</head>
<body>
    <div class="container">
        <h2>Dashboard</h2>

        <!-- Navigation Menu -->
        <nav>
            <button onclick="showSection('add-expense')">Add Expense</button>
            <button onclick="navigateTo('../../backend/php/user/view_expense.php')">View Expense</button> <!-- Fixed -->
            <a href="../../backend/php/public/logout.php">Logout</a>
        </nav>

        <!-- Add Expense Section -->
        <section id="add-expense" style="display: none;">
            <h3>Add Expense</h3>
            <form action="../../backend/php/user/expense.php" method="POST" onsubmit="return validateDate();">
                <label for="expense-date">Date:</label>
                <!-- Set max attribute to today's date -->
                <input type="date" 
                       id="expense-date" 
                       name="expense_date" 
                       max="<?php echo date('Y-m-d'); ?>" 
                       required>
                
                <label for="source">Source:</label>
                <input type="text" id="source" name="source" required>
                
                <label for="expense-amount">Amount:</label>
                <input type="number" id="expense-amount" name="expense_amount" required>
                
                <button type="submit" name="add_expense">Add Expense</button>
            </form>
        </section>
        
        <script>
        function validateDate() {
            const expenseDate = document.getElementById('expense-date').value;
            const today = new Date().toISOString().split('T')[0];
            if (expenseDate > today) {
                alert("Expense date cannot be in the future!");
                return false;
            }
            return true;
        }
        </script>

    </div>

</body>
</html>
